<!DOCTYPE html>
<html>
<head>
    <title>Latin to Manchu script converter</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script type="text/javascript">


var conversion = {
            "a": "\u1820",
            "e": "\u185D",
            "i": "\u1873",
            " I": "\u202f\u1873",
            "o": "\u1823",
            "u": "\u1860",
            "v": "\u1861",
            "ū": "\u1861",
            "i'": "\u185F",
            "n": "\u1828",
            "ng": "\u1829",
            "k": "\u1874",
            "g": "\u1864",
            "h": "\u1865",
            "b": "\u182A",
            "p": "\u1866",
            "s": "\u1830",
            "š": "\u1867",
            "x": "\u1867",
            "t": "\u1868",
            "d": "\u1869",
            "l": "\u182F",
            "m": "\u182E",
            "c": "\u1834",
            "j": "\u1835",
            "y": "\u1836",
            "r": "\u1875",
            "f": "\u1876",
            "w": "\u1838",
            "k'": "\u183A",
            "g'": "\u186C",
            "h'": "\u186D",
            "ts'": "\u186E",
            "ts": "\u186e\u185f",
            "dz": "\u186F",
            "ž": "\u1870",
            "z": "\u1870",
            "sy":"\u1830\u185f",
            "c'": "\u1871",
            "c'y": "\u1871\u1873",
            "jy": "\u1877",
            "0": "\u1810",
            "1": "\u1811",
            "2": "\u1812",
            "3": "\u1813",
            "4": "\u1814",
            "5": "\u1815",
            "6": "\u1816",
            "7": "\u1817",
            "8": "\u1818",
            "9": "\u1819",
            "-": "\u180A",
            ",": "\u1808",
            ".": "\u1809",
            "`": "​",
        };



var conversion2 = {
"I":"i",
"v":"ū",
"x":"š",
"z":"ž",
"dz":"dz",
};



 var maxLength = Object.keys(conversion)
    .reduce((a, b) => a.length > b.length ? a : b) // get the longest word
    .length; // and it's length
  
  function convert (text) {
    var converted = "";
    var cur = 0;
    while (cur < text.length) {
      var testedPhoneme;
      var symbol = undefined;
      for (var length = maxLength; length > 0; length --) {
        testedPhoneme = text.substr(cur, length);
        if (conversion[testedPhoneme]) {
          symbol = conversion[testedPhoneme];
          break; // stop the loop
        }
      }
      if (symbol) {
        converted += symbol;
        cur += testedPhoneme.length;
      }
      else {
        converted += text[cur]
        cur++;
      }
    }
    return converted
  }



 var maxLength2 = Object.keys(conversion2)
    .reduce((a, b) => a.length > b.length ? a : b) // get the longest word
    .length; // and it's length
  
  function convert2 (text) {
    var converted2 = "";
    var cur2 = 0;
    while (cur2 < text.length) {
      var testedPhoneme2;
      var symbol2 = undefined;
      for (var length = maxLength2; length > 0; length --) {
        testedPhoneme2 = text.substr(cur2, length);
        if (conversion2[testedPhoneme2]) {
          symbol2 = conversion2[testedPhoneme2];
          break; // stop the loop
        }
      }
      if (symbol2) {
        converted2 += symbol2;
        cur2 += testedPhoneme2.length;
      }
      else {
        converted2 += text[cur2]
        cur2++;
      }
    }
    return converted2
  }



  function onInputTextChange(txt) {
    var outputTextareaElem = document.getElementById("output_textarea");
    var div = document.createElement("div");
    var outputHtmlEntities = convert(txt);
    div.innerHTML = outputHtmlEntities;
    outputTextareaElem.value = div.innerText;

    var outputTextareaElem2 = document.getElementById("output_textarea2");
    var div = document.createElement("div");
    var outputHtmlEntities2 = convert2(txt);
    div.innerHTML = outputHtmlEntities2;
    outputTextareaElem2.value = div.innerText;
  }


        function select() {
          const input = document.getElementById('input_textarea');
          input.focus();
          input.select();
        }   
        function copytext() {
          var copyText = document.getElementById("output_textarea");
          copyText.select();
          copyText.setSelectionRange(0, 99999)
          document.execCommand("copy");
        }

    </script>
    
<style>
@import url(https://victorlee.github.io/Mongolian_Universal_White/stylesheet.css);

table {
  border-collapse: collapse;
  width: 70%;
}
@media (max-width: 700px) {
table {
  border-collapse: collapse;
  width: 97%;
}
}   

td, th {
  border: 1px solid #AAA;
  text-align: center;
  padding: 1px;
}
textarea {
    font-size: 14pt;
    font-family: 'Arial';
    width: 96%;
} 
.note {
  border: 1px solid #DDD;
  width: 45%;
  text-align: left;
  padding-left: 30px;
  padding-right: 30px;
  padding-top: 10px;
  padding-bottom: 10px;
}
.convtab {
overflow-y: scroll; 
height:200px;
width:200px;

}
textarea#output_textarea {
font-size: 18pt;
    writing-mode: vertical-lr;
    font-family: 'Mongolian Universal White';
}
@media (max-width: 700px) {
.convtab {
width:100px;
}
}
</style>


</head>
<body>    

<center><h1 class="text-center">Latin to Manchu script converter</h1><p>based on Möllendorff's transliteration</p></center>
<br>
<center>
<table>
<thead>
<tr>
<th>    
<button onclick="select('input_textarea')">Select all</button>
<button onclick="document.getElementById('input_textarea').value = ''">Clear</button>
</th>
<th>
<button onclick="copytext()">Copy text</button>
<button onclick="wiktionary()">Wiktionary</button>
<script>
        function copytext() {
          var copyText = document.getElementById("output_textarea");
          copyText.select();
          copyText.setSelectionRange(0, 99999)
          document.execCommand("copy");
        }

        function wiktionary() {
        window.open("https://en.wiktionary.org/wiki/" + document.getElementById('output_textarea').value + "#", "_blank", "toolbar=yes,scrollbars=yes,resizable=yes,top=0,left=300,width=600,height=600");
}
</script>
</th>
<th>Conversion table</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<textarea
id="input_textarea"
autofocus=""
placeholder="Input"
rows="9"
oninput="onInputTextChange(this.value)"></textarea>    
</td>
<td>
<textarea rows="7" placeholder="Output" id="output_textarea"></textarea>    
</td>
<td>

<center>
<div class="convtab">
<table style="font-family: monospace, 'Mongolian Universal White'">
<thead>
<tr>
<th>Latin</th>
<th>Manchu</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>\u1820 ᠠ</td>
</tr>
<tr>
<td>e</td>
<td>\u185D ᡝ</td>
</tr>
<tr>
<td>i</td>
<td>\u1873 ᡳ</td>
</tr>
<tr>
<td>space<br>I</td>
<td>\u202f\u1873 <img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAmCAYAAAAxxTAbAAADJUlEQVRYCb2Wy0t6QRTH5x9w086Vq5D+ABFaFUQGhRHUMqg2gos2WTsJDEKEpGWLkKLHslUbHwhBID0ggtbqovAVIiIq9Dg/vjdmuHPvXL3W5XdB5t5xzvczZ86ZmcPoPzzMDqPVatH9/T1dXFxQPB6nq6srenp6om63a8ecLCFfX1+Uz+dpYWGBGGPKn8vlovX1dSqVSgNhSkilUqGNjQ2lsAo4NjZGJycn9PHxoYSZIOVymebn520D9FAspQokQarVKi0uLloCvF4vzc7OElq9OH/H8iFu39/fkkcCghlgJtyAtxBMpVLUbDaFIUQQh0gkQhDmY9FOTEzQ8/OzGIsXAXl4eCCPxyMZrKys0Ovrq2Sg/0BynJ2dmUBbW1vU7/fFUA2Cjs3NTQmAuCABhj2qFXC73XR3dydMNcjLy4vmJncbS5BOp8WgYS/wdnp6WppkNBqlz89PzVSDHB8fSwPW1tao0+kM05b+N2pMTk4SMhUPw64NhUIS5Pz8XBKw81EsFsnv90s6mUzmB/L29kZTU1Piz/HxcVN22IGo4rq3t6elM0O6QZjHIxAI0Pv7ux1d05jT01OhA73V1VVqt9vEbm5upD+wdHYPPiOlUChI6czjwrD+3Au0u7u7ph1rFLP6RqAhzPWQyo+Pj2SCxGIxK42h/bgSlpeXBQQwBJ9BlJPR/gVilamOQuCqcdL7+/vEjo6OHPOEQ3AGzszM0Pb2Nl1fXzsbE6ugMS0wuus1HA5Tr9ezGv+rfoYUQ6rx4CM7kCVOPsyY23wDOQrBtsf2557gmL+9vXWS8XMzJpNJAQHs4ODg17teNTvtPsHM9Xf10tKSdKerDEfp0yCNRoPm5uaENwDmcrlRdAaO1SCoPrBEPC5o/3IaG4kaBJ24+PWpbCwGjIajfAuI6nBzyhsBwcwQB30C4H2UqsXKOwmCCgWVij42wWCQarWalb2tfgkCC1zH+tgAmEgkRA1lS9UwyARB1YEyU+8Nju6/nAImCCaBCgaFsx60s7Mj1beGyQ78VEKwbw4PDzWIz+ejbDZLKK5/+yghEKvX63R5eTlyuaqayD/RGv+J/8uXpQAAAABJRU5ErkJggg=='/ height=12px ></td>
</tr>
<tr>
<td>o</td>
<td>\u1823 ᠣ</td>
</tr>
<tr>
<td>u</td>
<td>\u1860 ᡠ</td>
</tr>
<tr>
<td>v, ū</td>
<td>\u1861 ᡡ</td>
</tr>
<tr>
<td>i', ɨ</td>
<td>\u185F ᡟ</td>
</tr>
<tr>
<td>u', ü, y'</td>
<td>\u1873<br>\u1823<br>\u1873 ᡳᠣᡳ</td>
</tr>
<tr>
<td>n</td>
<td>\u1828 ᠨ</td>
</tr>
<tr>
<td>ng</td>
<td>\u1829 ᠩ</td>
</tr>
<tr>
<td>k</td>
<td>\u1874 ᡴ</td>
</tr>
<tr>
<td>g</td>
<td>\u1864 ᡤ</td>
</tr>
<tr>
<td>h</td>
<td>\u1865 ᡥ</td>
</tr>
<tr>
<td>b</td>
<td>\u182A ᠪ</td>
</tr>
<tr>
<td>p</td>
<td>\u1866 ᡦ</td>
</tr>
<tr>
<td>s</td>
<td>\u1830 ᠰ</td>
</tr>
<tr>
<td>š, x</td>
<td>\u1867 ᡧ</td>
</tr>
<tr>
<td>t</td>
<td>\u1868 ᡨ</td>
</tr>
<tr>
<td>d</td>
<td>\u1869 ᡩ</td>
</tr>
<tr>
<td>l</td>
<td>\u182F ᠯ</td>
</tr>
<tr>
<td>m</td>
<td>\u182E ᠮ</td>
</tr>
<tr>
<td>c</td>
<td>\u1834 ᠴ</td>
</tr>
<tr>
<td>j</td>
<td>\u1835 ᠵ</td>
</tr>
<tr>
<td>y</td>
<td>\u1836 ᠶ</td>
</tr>
<tr>
<td>r</td>
<td>\u1875 ᡵ</td>
</tr>
<tr>
<td>f</td>
<td>\u1876 ᡶ</td>
</tr>
<tr>
<td>w</td>
<td>\u1838 ᠸ</td>
</tr>
<tr>
<td>k'</td>
<td>\u183A ᠺ</td>
</tr>
<tr>
<td>g'</td>
<td>\u186C ᡬ</td>
</tr>
<tr>
<td>h'</td>
<td>\u186D ᡭ</td>
</tr>
<tr>
<td>ts'</td>
<td>\u186E ᡮ</td>
</tr>
<tr>
<td>dz</td>
<td>\u186F ᡯ</td>
</tr>
<tr>
<td>ž, z</td>
<td>\u1870 ᡰ</td>
</tr>
<tr>
<td>cy</td>
<td>\u1871 ᡱ</td>
</tr>
<tr>
<td>jy</td>
<td>\u1877 ᡷ</td>
</tr>
<tr>
<td>0</td>
<td>\u1810 ᠐</td>
</tr>
<tr>
<td>1</td>
<td>\u1811 ᠑</td>
</tr>
<tr>
<td>2</td>
<td>\u1812 ᠒</td>
</tr>
<tr>
<td>3</td>
<td>\u1813 ᠓</td>
</tr>
<tr>
<td>4</td>
<td>\u1814 ᠔</td>
</tr>
<tr>
<td>5</td>
<td>\u1815 ᠕</td>
</tr>
<tr>
<td>6</td>
<td>\u1816 ᠖</td>
</tr>
<tr>
<td>7</td>
<td>\u1817 ᠗</td>
</tr>
<tr>
<td>8</td>
<td>\u1818 ᠘</td>
</tr>
<tr>
<td>9</td>
<td>\u1819 ᠙</td>
</tr>
<tr>
<td>-</td>
<td>\u180A ᠊</td>
</tr>
<tr>
<td>,</td>
<td>\u1802 ᠈</td>
</tr>
<tr>
<td>.</td>
<td>\u1803 ᠉</td>
</tr>
<tr>
<td>`</td>
<td>Chracter breaker</td>
</tr>
</tbody>
</table>

</div>
</center>

</td>
</tr>
</tbody>
</table>
<textarea rows="6" placeholder="Möllendorff" id="output_textarea2" style="width:350px"></textarea>
</center>
   


</body>
</html>
